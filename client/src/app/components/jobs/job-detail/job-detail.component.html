<div class="container justify-content-center">
  <div class="row justify-content-center">
    <div class="col-lg-10 col-xl-7 col-xxl-5">
      <div class="d-flex justify-content-between align-items-baseline w-100 mb-2 mx-1"
           *ngIf="isAppRole(appRoles.employer)">
        <div class="d-flex gap-2">
          <button mat-raised-button color="primary" (click)="onEditJobHandler()">Edit</button>
          <button mat-raised-button color="warn" (click)="onDeleteJobHolder()">Delete</button>
        </div>
        <div>
          <button mat-button class="text-decoration-underline" routerLink="/employer/features/dashboard">Back to
            Dashboard
          </button>
        </div>
      </div>
      <mat-card class="mb-2 p-2" *ngIf="jobDetail; else serverError">
        <mat-card-header>
          <mat-card-subtitle>
            <div class="row fs-6 company-salary-info">
              <span class="col-auto text-capitalize"><fa-icon [icon]="faBuilding"></fa-icon>
                {{jobDetail.company}}</span>
              <span class="col-auto text-capitalize"><fa-icon [icon]="faLocationDot"></fa-icon>
                {{jobDetail.location}}</span>
              <span class="col-auto text-capitalize"><fa-icon [icon]="faBriefcaseClock"></fa-icon>
                {{jobDetail.jobType}}</span>
              <span class="col-auto text-capitalize"><fa-icon [icon]="faCircleDollarToSlot"></fa-icon>
                {{jobDetail.salary}} yearly</span>
            </div>
          </mat-card-subtitle>
          <mat-card-title>
            <span class="fs-4">{{jobDetail.title}}</span>
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-divider class="my-2"></mat-divider>
          <mat-card-subtitle>
            <div class="row job-dates-info">
              <span class="col-auto"><fa-icon
                [icon]="faCalendarPlus"></fa-icon> Posted on {{parseDate(jobDetail.datePosted)}}</span>
              <span class="col-auto"><fa-icon
                [icon]="faHourglassHalf"></fa-icon> Expires on {{parseDate(jobDetail.dateExpires)}}</span>
            </div>
          </mat-card-subtitle>

          <div class="job-detail-description">
            <div class="fs-6 fw-medium mt-2 mb-1">Job Description</div>
            <div class="">{{jobDetail.description}}</div>
          </div>

          <div class="job-detail-skills" *ngIf="jobDetail.skills && jobDetail.skills.length">
            <h6 class="mt-2">Skills Required</h6>
            <div class="d-flex flex-wrap">
              <mat-chip-listbox>
                <mat-chip *ngFor="let skill of jobDetail.skills" class="fs-6-5">{{skill}}</mat-chip>
              </mat-chip-listbox>
            </div>
          </div>
        </mat-card-content>
        <mat-card-actions class="justify-content-between mx-2">
          <button mat-raised-button color="accent" routerLink="/jobs/apply" [queryParams]="{id: jobDetail._id}">Apply
          </button>
          <a mat-flat-button routerLink="/jobs">Back to Jobs</a>
        </mat-card-actions>
      </mat-card>
      <ng-template #serverError>
        <mat-card class="mb-2 p-2">
          <mat-card-content>
          </mat-card-content>
        </mat-card>
      </ng-template>
    </div>
  </div>
</div>
